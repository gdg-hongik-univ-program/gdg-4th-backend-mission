# 객체지향
조영호님의 ["객체지향의 사실과 오해"](https://product.kyobobook.co.kr/detail/S000001628109) 와
[오브젝트](https://product.kyobobook.co.kr/detail/S000001766367) 
를 함께 참고했음을 미리 밝힙니다.

## 객체
객체지향의 의미는 객체를 지향한다는 의미입니다.  
그렇다면, **객체** 는 무엇을 의미하는 걸까요?  

어떤 **"독립적인"** 하나의 개체로 생각해볼 수 있습니다.  
"독립적인" 이라고 표현한 이유는 객체 하나로 어떤 기능을 수행하기 때문입니다.  

저희의 1주차 프로젝트의 경우,

* 재고를 저장하고 관리하는 창고
* 주문을 저장하는 장바구니  

정도가 있을 수 있을 겁니다.

창고는 독립적으로 재고를 스스로 관리할 것입니다.  
재고 변동 사항을 전달받으면, 내부적으로 재고의 수를 변동할 것입니다.

장바구니 또한, 소비자의 행동에 맞게 스스로 행동합니다.  

이와 다른 패러다임인 절차지향과 비교를 간단하게 해봅시다.

### 객체지향 Vs. 절차지향
어떤 `main` 함수에 창고에 재고를 추가하는 기능을 작성한다고 가정해봅시다.  

절차지향이였다면,  
`main` 함수 안에서 창고 객체를 호출하고,  
`getter` 와 `setter` 를 통해,
필요한 값을 변경해낼 것입니다.

이와는 대조적으로 객체지향이라면,  
`main` 함수 안에서 추가해야할 재고의 종류와 개수를 창고에게 넘겨줍니다.  
예컨데, `store.addStock` 같은 함수라고 할 수 있습니다.

둘은 비슷해보이지만,  
그 기능을 `main` 즉, 외부에서 창고를 직접 다루는 방식과,  
그 기능을 창고가 스스로 처리하도록 넘기는 방식으로  
행동의 주체가 `main`이냐, `store` 이냐의 차이점이 있습니다.  

지금은 단순한 예제를 들었기 때문에 차이점을 알기 어려울 수 있으나,  
객체지향은 객체 1개가 아닌 여러 객체가 모여서 협력할 때 더욱 효율적입니다.  

이번에는 장바구니와 창고가 협력하는 경우를 간단하게 살펴봅시다.  
소비자의 재고 구매는 장바구니를 통해, 창고의 재고를 감소시킴으로서 이루어집니다.  

이를 객체지향은 두 객체가 협력하여 해결할 수 있습니다.  
역시 `main` 에서 그 기능을 구현한다고 했을 때,  
소비자인 `user`, 장바구니인 `cart`, 창고인 `store` 가 협력하여 다음과 같이 구현이 가능합니다.  
```java
public static void main(String[] args) {
    // 이미 cart 에 구매 목록이 담겨있다고 가정
    user.buy(cart, store);
}
```
한 눈에 직관적으로 보입니다.  
소비자는 카트의 내용물을, 창고로부터 구매합니다.  
그 (부가)효과로서, 소비자의 잔고가 줄어들고, 창고에는 재고가 줄어들 것이라고 쉽게 예측가능합니다.  
  
이를 절차지향으로 하나하나 그 과정을 나열했다고 가정하면,  
가독성이 떨어지고, 버그 가능성이 높을 것이라고 쉽게 예측가능합니다. 

## 책임, 메세지, 역할
적절한 객체의 설계를 위해서 사용하는 용어가 있습니다.  
사실 이게 공식적으로 널리 이용되는 단어인지는 명확하진 않습니다만,  
국내 한정으로는 어느정도는 통용되는 단어라고 생각됩니다.  

위에서 객체가 자율적으로 행동한다고 언급했습니다.  
자율적으로 행동한다는 의미는 외부의 자극으로부터 반응이 있다는 의미입니다.  
이 외부의 자극을 **메세지**라고 합니다.  

메세지에는 어떤 요청사항이 담겨있습니다.  
또한, 해당 요청사항을 위해 필요한 정보가 함께 담깁니다.  
예컨데 창고에게 재고를 추가해주세요! 라는 요청을  
"어떤 재고를 얼마나" 라는 정보와 함께 전달하는 것과 같습니다.

이 요청을 처리해야하는 의무를 **책임** 이라고 합니다.  
메세지를 처리해야하는 책임이 객체에게 존재하는 것입니다.  

이 **책임** 이 모여, 하나의 역할을 만듭니다.  
창고는 재고를 늘리고, 줄이고, 없애고 하는 등의 책임이 모여,  
창고라는 **역할**을 부여받게 됩니다.  

위에서 설명한 과정을 살펴보면, 객체의 생성과정도 자연스레 같이 알 수 있습니다.  

1. 일단 필요한 기능을 메세지로서 표현합니다.
2. 해당 메세지의 책임을 정합니다.
3. 책임이 모이면 해당 책임을 하나로 묶을 수 있는 역할을 부여합니다.

보통 하나의 역할을 하나의 객체가 담당하게 됩니다.  

주의할 점은 필요한 기능을 우선적으로 고려한다는 것입니다.  
간혹, 객체 설계에 있어서 데이터를 먼저 고려하는 경우가 있습니다.  

User의 경우, 이름, 학번, 이메일 등등... 같은 생각에 해당합니다.  
이러한 생각은 기능중심, 메세지 중심이 아닌 데이터 중심의 설계로 빠질 위험이 존재합니다.  
가능하면 메세지, 기능을 먼저 생각하고, 처리에 필요한 데이터를 고려해야합니다.  

이 외에도, Java 에는 객체지향적 설계에 도움을 줄 수 있는 유용한 문법이 있습니다.  
이것은 다음 글에서 확인해보겠습니다.  
[Java 심화 문법](./java-deep-dive.md)
